<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Informasi Sekolah & Rapor</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <link rel="icon" type="image/x-icon" href="https://lh3.googleusercontent.com/d/1_4llqCMNoBDmwDHsI7RYsCM6rSK5wEjw">
    <link rel="stylesheet" href="style.css">
    <style>
        /* === CSS Desain Minimalis === */
        body { background: var(--bg-color); }
        .container {
            max-width: 950px; background-color: #ffffff;
            box-shadow: 0 8px 40px rgba(0, 0, 0, 0.08); border-radius: 16px;
            padding: 30px 40px; margin-top: 20px; border: 1px solid var(--border-color);
        }
        .page-header {
            display: flex; align-items: center; gap: 20px;
            margin-bottom: 25px; padding-bottom: 20px; border-bottom: 1px solid var(--border-color);
        }
        .page-header h1 { margin: 0; padding: 0; border: none; font-size: 1.8em; color: var(--text-color); }
        .home-link { display: inline-flex; color: var(--text-color); transition: color 0.2s; }
        .home-link:hover { color: var(--primary-color); }
        .home-link i { font-size: 1.8em; }
        .form-section-title {
            font-size: 1.2em; font-weight: 600; color: var(--secondary-color);
            margin-top: 20px; margin-bottom: 20px;
            grid-column: 1 / -1; display: flex; align-items: center; gap: 10px;
        }
        .form-section-title:first-child { margin-top: 0; }
        .form-section-title .line { flex-grow: 1; height: 1px; background-color: var(--border-color); }
        .input-group { position: relative; display: flex; align-items: center; }
        .input-group .icon {
            position: absolute; left: 15px; color: #aaa;
            font-size: 0.9em; transition: color 0.2s; pointer-events: none;
        }
        .input-group input, .input-group select { padding-left: 40px !important; }
        .input-group input:focus + .icon, .input-group select:focus + .icon { color: var(--primary-color); }
        .form-grid { display: grid; gap: 18px 40px; grid-template-columns: repeat(2, 1fr); }
        .submit-container {
            display: flex; justify-content: flex-end; align-items: center; gap: 15px;
            margin-top: 30px; padding-top: 20px; border-top: 1px solid var(--border-color);
        }
        .submit-container button {
            font-size: 1em; padding: 12px 30px;
            background: linear-gradient(45deg, var(--primary-color), var(--secondary-color));
            box-shadow: 0 4px 20px rgba(74,144,226,0.4);
        }
        .submit-container button i { margin-right: 8px; }
        
        /* === CSS BARU UNTUK UPLOAD LOGO === */
        .logo-uploader {
            grid-column: 1 / -1; /* Mengambil lebar penuh */
            display: flex;
            align-items: center;
            gap: 30px;
            background-color: #f8f9fa;
            padding: 20px;
            border-radius: 12px;
            border: 1px dashed var(--border-color);
        }
        .logo-preview {
            width: 100px;
            height: 100px;
            border-radius: 50%; /* Membuat frame menjadi lingkaran */
            border: 3px solid #fff;
            box-shadow: 0 4px 10px rgba(0,0,0,0.1);
            overflow: hidden;
            display: flex;
            justify-content: center;
            align-items: center;
            background-color: #e9ecef;
            flex-shrink: 0;
        }
        .logo-preview img {
            width: 100%;
            height: 100%;
            object-fit: cover; /* Memastikan logo mengisi frame tanpa distorsi */
        }
        .logo-instructions p { margin: 0 0 10px 0; font-size: 0.9em; color: #6c757d; }
        .logo-actions { display: flex; gap: 10px; }
        .logo-actions label, .logo-actions button {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            padding: 8px 15px;
            font-size: 0.9em;
            border-radius: 8px;
            cursor: pointer;
            border: 1px solid var(--border-color);
            background-color: #fff;
            color: var(--text-color);
            transition: all 0.2s ease;
        }
        .logo-actions label:hover, .logo-actions button:hover {
             border-color: var(--primary-color);
             background-color: var(--primary-color);
             color: #fff;
        }
        .logo-actions button { background-color: #f1f1f1; border-color: #ddd; }
        .logo-actions button:hover { background-color: var(--danger-color); border-color: var(--danger-color); color: #fff;}
        #logoUploadInput { display: none; } /* Sembunyikan input file asli */
        
        @media (max-width: 768px) {
            .form-grid { grid-template-columns: 1fr; }
            .logo-uploader { flex-direction: column; text-align: center; }
        }
    </style>
</head>
<body>
    <div class="container">
        <header class="page-header">
             <a href="bangbin_Rapor.html" class="home-link" title="Kembali ke Menu Utama">
                <i class="fa-solid fa-circle-chevron-left"></i>
            </a>
            <h1>Pengaturan Informasi Sekolah</h1>
        </header>

        <form id="formInfoDasar">
            <div class="form-grid">

                <div class="logo-uploader">
                    <div class="logo-preview">
                        <img id="logoPreview" src="https://via.placeholder.com/100" alt="Logo Sekolah">
                    </div>
                    <div class="logo-instructions">
                        <h4>Logo Sekolah</h4>
                        <p>Unggah logo sekolah Anda. Format yang disarankan adalah JPG, PNG, atau SVG dengan rasio 1:1 (persegi).</p>
                        <div class="logo-actions">
                            <label for="logoUploadInput"><i class="fa-solid fa-arrow-up-from-bracket"></i> Pilih File</label>
                            <input type="file" id="logoUploadInput" accept="image/*">
                            <button type="button" id="removeLogoButton"><i class="fa-solid fa-trash"></i> Hapus Logo</button>
                        </div>
                    </div>
                </div>

                <div class="form-section-title">
                    <span>Identitas Sekolah</span><div class="line"></div>
                </div>
                <div><label for="namaSekolah">Nama Sekolah</label><div class="input-group"><input type="text" id="namaSekolah" placeholder="Nama lengkap sekolah..." required><i class="icon fa-solid fa-school"></i></div></div>
                <div><label for="npsn">NPSN</label><div class="input-group"><input type="number" id="npsn" placeholder="8 digit NPSN..."><i class="icon fa-solid fa-hashtag"></i></div></div>
                <div><label for="jenjang">Jenjang Pendidikan</label><div class="input-group"><select id="jenjang"><option>Sekolah Dasar</option><option>Sekolah Dasar Islam Terpadu</option><option>Sekolah Dasar Kristen</option><option>Sekolah Menengah Pertama</option><option>Sekolah Menengah Pertama Islam Terpadu</option><option>Sekolah Menengah Atas</option><option>Sekolah Menengah Atas Islam Terpadu</option><option>Sekolah Menengah Kejuruan</option></select><i class="icon fa-solid fa-layer-group"></i></div></div>
                <div><label for="alamat">Alamat Jalan</label><div class="input-group"><input type="text" id="alamat" placeholder="Nama jalan, nomor, RT/RW..."><i class="icon fa-solid fa-map-location-dot"></i></div></div>
                <div><label for="desaKelurahan">Desa / Kelurahan</label><div class="input-group"><input type="text" id="desaKelurahan" placeholder="Lubang Buaya"><i class="icon fa-solid fa-signs-post"></i></div></div>
                <div><label for="kabupatenKota">Kabupaten / Kota</label><div class="input-group"><input type="text" id="kabupatenKota" placeholder="Jakarta Timur"><i class="icon fa-solid fa-city"></i></div></div>
                <div><label for="provinsi">Provinsi</label><div class="input-group"><input type="text" id="provinsi" placeholder="DKI Jakarta"><i class="icon fa-solid fa-flag"></i></div></div>
                <div><label for="telpon">Telepon</label><div class="input-group"><input type="text" id="telpon" placeholder="6281310051985><i class="icon fa-solid fa-phone"></i></div></div>
                <div><label for="website">Website</label><div class="input-group"><input type="text" id="website" placeholder="https://bangbin.sch.id"><i class="icon fa-solid fa-globe"></i></div></div>
                <div><label for="email">Email</label><div class="input-group"><input type="email" id="email" placeholder="kontak@sekolah.sch.id"><i class="icon fa-solid fa-envelope"></i></div></div>
                
                <div class="form-section-title">
                    <span>Personalia & Pengaturan Rapor</span><div class="line"></div>
                </div>
                <div><label for="kepalaSekolah">Nama Kepala Sekolah</label><div class="input-group"><input type="text" id="kepalaSekolah" placeholder="Nama lengkap & gelar..."><i class="icon fa-solid fa-user-tie"></i></div></div>
                <div><label for="nipKepsek">NIP Kepala Sekolah</label><div class="input-group"><input type="text" id="nipKepsek" placeholder="NIP tanpa spasi..."><i class="icon fa-solid fa-id-card"></i></div></div>
                <div><label for="namaGuru">Nama Guru / Wali Kelas</label><div class="input-group"><input type="text" id="namaGuru" required placeholder="Nama lengkap & gelar..."><i class="icon fa-solid fa-user-chalkboard"></i></div></div>
                <div><label for="nipGuru">NIP Guru Kelas</label><div class="input-group"><input type="text" id="nipGuru" placeholder="NIP/NUPTK/PegID..."><i class="icon fa-solid fa-id-card-clip"></i></div></div>
                <div><label for="kelas">Kelas</label><div class="input-group"><input type="text" id="kelas" placeholder="Contoh: IV A"><i class="icon fa-solid fa-person-shelter"></i></div></div>
                <div><label for="fase">Fase</label><div class="input-group"><input type="text" id="fase" placeholder="Contoh: B"><i class="icon fa-solid fa-star"></i></div></div>
                <div><label for="semester">Semester</label><div class="input-group"><select id="semester"><option value="1">1 (Ganjil)</option><option value="2">2 (Genap)</option></select><i class="icon fa-solid fa-calendar-days"></i></div></div>
                <div><label for="tahunAjaran">Tahun Ajaran</label><div class="input-group"><input type="text" id="tahunAjaran" placeholder="Contoh: 2024/2025" required><i class="icon fa-solid fa-graduation-cap"></i></div></div>
                <div><label for="tanggalRaporDepan">Tanggal Rapor (Halaman Depan)</label><div class="input-group"><input type="date" id="tanggalRaporDepan"><i class="icon fa-solid fa-file-signature"></i></div></div>
                <div><label for="tanggalRaporNilai">Tanggal Rapor (Halaman Nilai)</label><div class="input-group"><input type="date" id="tanggalRaporNilai"><i class="icon fa-solid fa-file-pen"></i></div></div>
            </div>

            <div class="submit-container">
                 <button type="submit"><i class="fa-solid fa-floppy-disk"></i>Simpan</button>
            </div>
        </form>
    </div>

    <script src="bangbin_uhuuyy.js"></script>
    <script>
const _0x2c7406=_0xcc0b;function _0xcc0b(_0x3dc9e7,_0x34f11a){const _0x335eb7=_0x335e();return _0xcc0b=function(_0xcc0bfa,_0x3b547f){_0xcc0bfa=_0xcc0bfa-0xf3;let _0xc911ce=_0x335eb7[_0xcc0bfa];return _0xc911ce;},_0xcc0b(_0x3dc9e7,_0x34f11a);}(function(_0x5f3e06,_0x4b2794){const _0x30a196=_0xcc0b,_0x2f0f99=_0x5f3e06();while(!![]){try{const _0x17d642=parseInt(_0x30a196(0x116))/0x1*(parseInt(_0x30a196(0x11e))/0x2)+-parseInt(_0x30a196(0x102))/0x3*(-parseInt(_0x30a196(0xf7))/0x4)+parseInt(_0x30a196(0xf3))/0x5+parseInt(_0x30a196(0x113))/0x6*(parseInt(_0x30a196(0x117))/0x7)+parseInt(_0x30a196(0x112))/0x8+parseInt(_0x30a196(0x108))/0x9*(-parseInt(_0x30a196(0x115))/0xa)+-parseInt(_0x30a196(0x109))/0xb*(parseInt(_0x30a196(0x11a))/0xc);if(_0x17d642===_0x4b2794)break;else _0x2f0f99['push'](_0x2f0f99['shift']());}catch(_0x386c3d){_0x2f0f99['push'](_0x2f0f99['shift']());}}}(_0x335e,0x6fc5b),document[_0x2c7406(0x107)]('DOMContentLoaded',()=>{const _0x4953b5=_0x2c7406,_0x4c2c20=loadData(),_0x7d60ca=document[_0x4953b5(0xf6)](_0x4953b5(0xfe)),_0x3ee72b=document[_0x4953b5(0xf6)](_0x4953b5(0x103)),_0x3788c3=document['getElementById']('logoPreview'),_0x5075fc=document[_0x4953b5(0xf6)](_0x4953b5(0x118)),_0xde1036=_0x4953b5(0xf8),_0x1c0d67=()=>{const _0x572265=_0x4953b5;_0x4c2c20[_0x572265(0x11c)]['logoSekolah']&&_0x4c2c20['infoDasar']['logoSekolah'][_0x572265(0x100)]('data:image')?_0x3788c3[_0x572265(0x10c)]=_0x4c2c20[_0x572265(0x11c)][_0x572265(0xf5)]:_0x3788c3[_0x572265(0x10c)]=_0xde1036;};_0x3ee72b['addEventListener'](_0x4953b5(0xfc),function(_0x3fc9fd){const _0x155277=_0x4953b5,_0x5e490a=_0x3fc9fd[_0x155277(0x104)][_0x155277(0xfa)][0x0];if(_0x5e490a&&_0x5e490a[_0x155277(0x120)]['startsWith']('image/')){const _0x44975f=new FileReader();_0x44975f[_0x155277(0x119)]=function(_0xadc456){const _0x3a2a2d=_0x155277,_0x5afa93=_0xadc456[_0x3a2a2d(0x104)][_0x3a2a2d(0x106)];_0x3788c3[_0x3a2a2d(0x10c)]=_0x5afa93,_0x4c2c20[_0x3a2a2d(0x11c)][_0x3a2a2d(0xf5)]=_0x5afa93;},_0x44975f[_0x155277(0x11f)](_0x5e490a);}}),_0x5075fc[_0x4953b5(0x107)]('click',()=>{const _0x2cff3a=_0x4953b5;_0x3788c3[_0x2cff3a(0x10c)]=_0xde1036,_0x4c2c20[_0x2cff3a(0x11c)]['logoSekolah']='',_0x3ee72b[_0x2cff3a(0x11b)]='';});const _0x519bdc=['namaSekolah',_0x4953b5(0xf4),'jenjang',_0x4953b5(0xff),'desaKelurahan',_0x4953b5(0x10f),'provinsi',_0x4953b5(0x121),_0x4953b5(0x111),'telpon',_0x4953b5(0x110),_0x4953b5(0x10e),_0x4953b5(0x101),_0x4953b5(0x11d),'kelas','fase',_0x4953b5(0xf9),_0x4953b5(0x10a),_0x4953b5(0x105),_0x4953b5(0xfd)],_0x1c6a6d=()=>{const _0x5db476=_0x4953b5;_0x1c0d67();const _0x363f11=_0x4c2c20[_0x5db476(0x11c)];_0x519bdc[_0x5db476(0x114)](_0x16d8e2=>{const _0x2ebcb5=_0x5db476,_0x48d289=document[_0x2ebcb5(0xf6)](_0x16d8e2);_0x48d289&&(_0x48d289['value']=_0x363f11[_0x16d8e2]||'');});};_0x7d60ca[_0x4953b5(0x107)]('submit',async _0x2df7a5=>{const _0x30671b=_0x4953b5;_0x2df7a5[_0x30671b(0xfb)](),_0x519bdc[_0x30671b(0x114)](_0xdde95c=>{const _0xc089b5=_0x30671b,_0xf120a4=document['getElementById'](_0xdde95c);_0xf120a4&&(_0x4c2c20[_0xc089b5(0x11c)][_0xdde95c]=_0xf120a4[_0xc089b5(0x11b)]);}),saveData(_0x4c2c20),await showModal(_0x30671b(0x10b),_0x30671b(0x10d));}),_0x1c6a6d();}));function _0x335e(){const _0x24da8b=['forEach','6130GKcbSa','99419OZUtCy','56ksgPwI','removeLogoButton','onload','72516InJWcD','value','infoDasar','nipGuru','2AcLmka','readAsDataURL','type','website','3892745LYaXBJ','npsn','logoSekolah','getElementById','16dFcYRb','https://www.kemendikdasmen.go.id/web/image/website/21/favicon?unique=c3563e4','semester','files','preventDefault','change','tanggalRaporNilai','formInfoDasar','alamat','startsWith','namaGuru','77721aiMjmQ','logoUploadInput','target','tanggalRaporDepan','result','addEventListener','7137SBrhPS','352QSGsrD','tahunAjaran','Berhasil\x20Disimpan!\x20âœ¨','src','Seluruh\x20informasi\x20sekolah,\x20termasuk\x20logo,\x20telah\x20berhasil\x20diperbarui.','nipKepsek','kabupatenKota','kepalaSekolah','email','1208160whcJaU','3516HrZEjs'];_0x335e=function(){return _0x24da8b;};return _0x335e();}
    </script>
</body>
</html>
